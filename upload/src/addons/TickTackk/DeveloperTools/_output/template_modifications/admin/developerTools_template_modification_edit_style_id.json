{
    "template": "template_modification_edit",
    "description": "Add style select menu to test template modifications",
    "execution_order": 10,
    "enabled": true,
    "action": "str_replace",
    "find": "\t<div class=\"block-container\">",
    "replace": "\t<xf:if is=\"{$modification.type} == 'public'\">\n\t\t<xf:if is=\"{$modification.modification_id}\">\n\t\t\t<div class=\"block-outer\">\n\t\t\t\t<div class=\"block-outer-main\">\n\t\t\t\t\t<a class=\"button button--link menuTrigger\"\n\t\t\t\t\t\tdata-xf-click=\"menu\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\taria-haspopup=\"true\">{{ phrase('style:') }} {$style.title}</a>\n\n\t\t\t\t\t<div class=\"menu\" data-menu=\"menu\" aria-hidden=\"true\">\n\t\t\t\t\t\t<div class=\"menu-content\">\n\t\t\t\t\t\t\t<h3 class=\"menu-header\">{{ phrase('styles') }}</h3>\n\t\t\t\t\t\t\t<xf:foreach loop=\"$styleTree.getFlattened()\" value=\"$treeEntry\">\n\t\t\t\t\t\t\t\t<xf:if is=\"{$modification.modification_id}\">\n\t\t\t\t\t\t\t\t\t<a href=\"{{ link('template-modifications/edit', $modification, {'style_id': $treeEntry.record.style_id}) }}\" class=\"menu-linkRow {{ ($style && $style.style_id == $treeEntry.record.style_id) ? 'is-selected' : '' }}\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"u-depth{$treeEntry.depth}\">{$treeEntry.record.title}</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<xf:else />\n\t\t\t\t\t\t\t\t\t<a href=\"{{ link('template-modifications/add', [], {'style_id': $treeEntry.record.style_id}) }}\" class=\"menu-linkRow {{ ($style && $style.style_id == $treeEntry.record.style_id) ? 'is-selected' : '' }}\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"u-depth{$treeEntry.depth}\">{$treeEntry.record.title}</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</xf:if>\n\t\t\t\t\t\t\t</xf:foreach>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<xf:else />\n\t\t\t<div class=\"block-outer\">\n\t\t\t\t<div class=\"block-outer-main\">\n\t\t\t\t\t<a class=\"button button--link menuTrigger\"\n\t\t\t\t\t\tdata-xf-click=\"menu\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\taria-haspopup=\"true\">{{ phrase('style:') }} {$style.title}</a>\n\n\t\t\t\t\t<div class=\"menu\" data-menu=\"menu\" aria-hidden=\"true\">\n\t\t\t\t\t\t<div class=\"menu-content\">\n\t\t\t\t\t\t\t<h3 class=\"menu-header\">{{ phrase('styles') }}</h3>\n\t\t\t\t\t\t\t<xf:foreach loop=\"$styleTree.getFlattened()\" value=\"$treeEntry\">\n\t\t\t\t\t\t\t\t<xf:if is=\"{$modification.modification_id}\">\n\t\t\t\t\t\t\t\t\t<a href=\"{{ link('template-modifications/edit', $modification, {'style_id': $treeEntry.record.style_id}) }}\" class=\"menu-linkRow {{ ($style && $style.style_id == $treeEntry.record.style_id) ? 'is-selected' : '' }}\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"u-depth{$treeEntry.depth}\">{$treeEntry.record.title}</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<xf:else />\n\t\t\t\t\t\t\t\t\t<a href=\"{{ link('template-modifications/add', [], {'style_id': $treeEntry.record.style_id}) }}\" class=\"menu-linkRow {{ ($style && $style.style_id == $treeEntry.record.style_id) ? 'is-selected' : '' }}\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"u-depth{$treeEntry.depth}\">{$treeEntry.record.title}</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</xf:if>\n\t\t\t\t\t\t\t</xf:foreach>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</xf:if>\n\t</xf:if>\n$0"
}